<app-header></app-header>

<div class="users-container">
    <div class="users-content">
        <div class="users-toolbar">
            <div class="search-group">
                <input
                    class="search-input"
                    type="text"
                    placeholder="Search"
                    [value]="searchTerm()"
                    (input)="onSearchChange($event)"
                />
                <i class="fas fa-search search-icon"></i>
            </div>
            <button class="add-user-btn" (click)="onAddUser()">
                <span class="plus-icon">+</span> Add user
            </button>
        </div>

        <app-custom-table [columns]="columns" [data]="paginatedUsers()" [totalItems]="totalItems()"
            [currentPage]="currentPage()" [pageSize]="pageSize()" [actions]="actions" [loading]="loading()"
            (pageChange)="onPageChange($event)" (actionClick)="onActionClick($event)">
        </app-custom-table>

        <app-add-edit-user
            *ngIf="showUserModal"
            [userId]="selectedUserId"
            (closed)="showUserModal = false"
            (saved)="onUserSaved()">
        </app-add-edit-user>
    </div>
</div>